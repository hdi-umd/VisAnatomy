<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title> </title>
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      html {
        /* margin: 10px 10px 0px 10px; */
        padding: 0px;
        font-family: Arial;
      }
      body {
        font: normal 15px/20px Arial, serif;
        color: #333;
        margin: 0;
        padding: 0;
        background-color: #fff;
        min-height: 100%;
        height: 100%;
        overflow: hidden;
        overflow-y: auto;
      }

      div.upload {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        display: inline-block;
        height: 30px;
        padding: 3px 40px 3px 3px;
        position: relative;
        width: auto;
        min-width: 200px;
        margin-right: 20px;
      }

      div.upload:hover {
        opacity: 0.95;
      }

      div.upload input[type="file"] {
        display: input-block;
        width: 100%;
        height: 30px;
        opacity: 0;
        cursor: pointer;
        position: absolute;
        left: 0;
      }
      .uploadButton {
        background-color: #425f9c;
        border: none;
        border-radius: 3px;
        color: #fff;
        cursor: pointer;
        display: inline-block;
        height: 30px;
        margin-right: 15px;
        width: auto;
        padding: 0 20px;
        box-sizing: content-box;
      }
      .loadSavesButton {
        background-color: #425f9c;
        border: none;
        border-radius: 3px;
        color: #fff;
        cursor: pointer;
        display: inline-block;
        height: 10px;
        margin-right: 15px;
        width: auto;
        padding: 0 20px;
        box-sizing: content-box;
      }

      .fileName {
        font-family: Arial;
        font-size: 14px;
      }

      .upload + .uploadButton {
        height: 38px;
      }
    </style>
  </head>
  <body>
    <div id="uploadData" style="padding:0 30px 0 30px">
      <h2>Experimental Feature: Import and Annotate an SVG Chart</h2>
      <h3>
        Import an SVG chart and annotate. If some style information is
        contained in the CSS file associated with the webpage in which the SVG
        is embedded in, try to add that information to the SVG file.
      </h3>
      <!-- solution from http://jsfiddle.net/umhva747/ -->
      <form action="annotationPage.html" id="uploadForm">
        <div class="upload">
          <input type="button" class="uploadButton" value="Browse" />
          <input type="file" name="upload" accept="image/*" id="myFile" />
          <span class="fileName">Select file..</span>
        </div>
        <input
          type="submit"
          class="uploadButton"
          value="Import"
          onClick="newSVG()"
        />
      </form>
  </form method = "POST" enctype = "multipart/form-data">
  <div id = "loadSaves"  style="padding:2 30px 2 30px">
    <input type = "file" id = "fileInputControl" />
    <input type = "submit" value = "Upload file" />
    <!-- upload button stll doesn't work-->
  </div>
  </form>
    </div>

    <script>
      $("input[type=file]").change(function (e) {
        $in = $(this);
        $in.next().html($in.val());
      });

      function newSVG() {
        let uploadedSVG = document.getElementById("myFile").files[0];
        let fileReader = new FileReader();
        fileReader.readAsText(uploadedSVG);
        fileReader.onload = function () {
          sessionStorage.setItem("svg", fileReader.result);
          //   localStorage["svg"] = fileReader.result;
        };
        // url = 'http://localhost:8080/demoPage.html?filename=' + b;
        // document.location.href = url;
        document.getElementById("myFile").value = null;
      }

      $(document).ready(() => {
        sessionStorage.setItem("svg", "");
      });
    </script>
  </body>
</html>
